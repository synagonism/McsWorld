<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Wasm instantiateStreaming() test</title>
  </head>
  <body>
    <h1>simple example from <a href="https://github.com/mdn/webassembly-examples/tree/master/js-api-examples">Mdn-examples</a></h1>
    <p>Â· hit F12 to see console's output.
    <script>
      var oImport = {
        oJs: {fImported: arg => console.log(arg)}
      };
      // fetch('simple.wasm')
      // .then(oResponse => oResponse.arrayBuffer())
      // .then(bytes => WebAssembly.compile(bytes))
      // .then(oModule => WebAssembly.instantiate(oModule, importObject))
      // .then(oModuleInst => oModuleInst.exports.fExported());
      WebAssembly.instantiateStreaming(fetch('simple.wasm'), oImport)
      .then(oModule => oModule.instance.exports.fExported());
    </script>
  </body>
</html>